{% extends "base.html" %}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6 mainBoxes">
            <form method="POST" action="/editeur">
                <div class="container-fluid semi-container" style="display: block;">
                    <label for="enonce">Enoncé</label>
                    <textarea name="enonce" id="inputEnonce" placeholder="Ecrivez votre énoncé ici" value="{{enonce}}"></textarea>

                    <hr />

                    <input type="hidden" name="nbRep" id="nbRep" value="{{nbReponses}}">
                    <input type="hidden" name="idEachReps" id="idEachReps" value="{{idReps}}">

                    <div id="repListe">
                    {%for i in range(0, nbReponses)%}
                        <div id="divReponse{{i}}">
                            <input type="checkbox" name="checkReponse{{i}}" id="checkReponse{{i}}">
                            <input type="text" name="textReponse{{i}}" id="textReponse{{i}}" value="{{reponses[i]['text']}}" placeholder="Réponse">
                            <input type="button" onclick="supprimerReponse({{i}})" value="Supprimer">
                            
                        </div>

                        {%if reponses[i]['val'] == 'on' %}
                            <script>checkTheBox("checkReponse{{i}}")</script>
                        {%endif%}

                    {%endfor%}
                    </div>

                    <hr />

                    <input type="button" onclick="ajouterReponse()" value="Ajouter une réponse" />
                    <input type="submit" value="Apercu">
                </div>
            </form>

        </div>
        <div class="col-sm-6 mainBoxes">
            <div id="enoncePreview">{{enonceFormate|safe}}</div>
        </div>

        <script>
            mermaid.initialize({startOnLoad:true});
        </script>
    </div>
</div>

{% endblock %}