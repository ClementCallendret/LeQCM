{% extends "base.html" %}

{% block content %}

<!-- Barre de navigation Boostrap pour trier les questions ou en creer une nouvelle -->
<nav class="navbar navbar-expand-sm navbar-dark" id="navQuestions">
  <div class="container-fluid">
    <!-- Boutton menu dépliant pour les plus petits écrans -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar2">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="collapsibleNavbar2">
      <ul class="navbar-nav">
        <li class="nav-item">
            <form action="" method="GET" id="tagForm">
            <!-- Dropdown Boostrap avec tous les tags utilisés sur la page courante -->
            <div class="dropdown" style="padding: 5px;">
              <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">
              Tags
              </button>
              
              <ul class="dropdown-menu" id="tagList">
              {%for t in tags%}
              <li><label for="{{t}}"><input type="checkbox" name="{{t}}">{{t}}</label></li>
              {%endfor%}
              </ul>
                
            </div>
            </form>
        </li> 
        <li class="nav-item" style="padding: 5px;">
          <input type="button" class="btn btn-primary" onclick="filterByTags()" value="Filtrer par tag">
        </li>
          
        
        <li class="nav-item" style="padding: 5px;">
          <a class="btn btn-primary" href="{{url_for('editeur.init', questionId='createNew')}}">Creer une question</a>
        </li>
        <li class="nav-item" style="padding: 5px;">
          <button type="button" class="btn btn-primary">Creer une page de question</button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Flexbox Boostrap pour que tous les éléments se replacent en fonction de la taille de l'écran-->
<!-- Ceci dans un formulaire qui nous permetteras de selectionner les questions pour générer une page de qcm-->
<form action="/MesQuestions/creerQCM" method="POST" >
  <div class="d-flex flex-wrap" style="margin-top: 20px;">
    <!-- Card Boostrap car cela rendais bien pour un bref apercu -->
    <!-- Je laisse la première en dur pour que les commentaires soit plus claires -->
    <div class="card questionCard">
      <!-- Lien pour aller voir ou modifier la question -->
      <div class="card-header"><a href="" class="link-dark">Le titre de la Question qui est tres longue en vrai deraiment</a></div>
      <div class="card-body">Le début de l'énoncé qui est vraiment tres tres long tres tres longtres tres longtres tres longtres tres longtres tres longtres tres longtres tres longtres tres longtres tres long gtres tres longtres tres longtres tres longtres tres longtres tres long zizi blablabal</div>
      <div class="card-footer" style="color: blue;">Système, nature, découverte, ect plein de taaaaaaaaaaaaaaaaaaaaaaaaaaaaaaagA</div>
      <!--CheckBox pour la page de qcm-->
      <input type="checkbox" name="checkQuestion" class="checkBoxQuestion">
      

      <input type="checkbox" name="test1">
      <input type="submit" name="button">

    </div>

    {%for q in questions%}

    <div class="card questionCard">
      <div class="card-header"><a href="{{url_for('editeur.init', questionId=q['id'])}}" class="link-dark">{{q['title']}}</a></div>
      <div class="card-body">{{q['state']}}</div>
      <div class="card-footer" style="color:blue">
        {%for t in q['tags']%}
          {{t}};
        {%endfor%}
      </div>
    </div>

    {%endfor%}
  </div>
</form>

{% endblock %}